<Project>
    <Import Project="$(ProjectDir)Tools.Config.props" Condition="Exists('$(ProjectDir)Tools.Config.props')"/>
    <Import Project="$(MSBuildThisFileDirectory)Tools.Config.props" Condition="!Exists('$(ProjectDir)Tools.Config.props')"/>
    <PropertyGroup>
        <IMetaType>ShadowPluginLoader.WinUI.Interfaces.IPluginMetaData</IMetaType>
        <ForcePluginLoaderTool  Condition="$(ForcePluginLoaderTool) == ''">false</ForcePluginLoaderTool>
        <IsPluginLoaderMetaBuild  Condition="$(IsPluginLoaderMetaBuild) == ''">false</IsPluginLoaderMetaBuild>
        <IsPlugin  Condition="$(IsPlugin) == ''">false</IsPlugin>
    </PropertyGroup>
    <PropertyGroup>
        <ToolExeFile>$(MSBuildThisFileDirectory)ShadowPluginLoader.Tool.dll</ToolExeFile>
        <OutputDir>$(ProjectDir)$(OutputPath)</OutputDir>
        <OutputFile>$(OutputDir)$(TargetName)$(TargetExt)</OutputFile>
    </PropertyGroup>
    <PropertyGroup>
        <ToolTargetsFile Condition="$(ToolTargetsFile) == ''">$(ProjectDir)Tool.targets</ToolTargetsFile>
        <ToolTargetsFile Condition="!Exists('$(ToolTargetsFile)')">$(MSBuildThisFileDirectory)Tool.Default.targets</ToolTargetsFile>
    </PropertyGroup>
    <PropertyGroup>
        <LoaderToolTargetsFile Condition="$(LoaderToolTargetsFile) == ''">$(ProjectDir)Loader.Build.targets</LoaderToolTargetsFile>
        <LoaderToolTargetsFile Condition="!Exists('$(LoaderToolTargetsFile)')">$(MSBuildThisFileDirectory)Loader.Build.targets</LoaderToolTargetsFile>
    </PropertyGroup>
    <PropertyGroup>
        <PluginToolTargetsFile Condition="$(PluginToolTargetsFile) == ''">$(ProjectDir)Plugin.Build.targets</PluginToolTargetsFile>
        <PluginToolTargetsFile Condition="!Exists('$(PluginToolTargetsFile)')">$(MSBuildThisFileDirectory)Plugin.Build.targets</PluginToolTargetsFile>
    </PropertyGroup>
    
    
    <Import Project="$(ToolTargetsFile)"/>
    <Import Project="$(LoaderToolTargetsFile)" Condition="$(IsPluginLoaderMetaBuild)"/>
    <Import Project="$(PluginToolTargetsFile)" Condition="$(IsPlugin) and !$(IsPluginLoaderMetaBuild)"/>



</Project>